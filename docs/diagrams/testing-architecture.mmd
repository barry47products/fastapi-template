graph TB
    Tests[Test Suite]:::suite --> Unit[Unit Tests]:::unit
    Tests --> Integration[Integration Tests]:::integration
    Tests --> Contract[Contract Tests]:::contract

    Unit --> Domain[Domain Logic Tests]:::domainTest
    Unit --> App[Application Tests]:::appTest
    Unit --> Mock[Mock Infrastructure]:::mock

    Integration --> DB[Database Tests]:::dbTest
    Integration --> API[API Tests]:::apiTest
    Integration --> External[External Service Tests]:::externalTest

    Contract --> OpenAPI[OpenAPI Validation]:::validation
    Contract --> Schemas[Schema Validation]:::validation

    subgraph "Test Environment"
        TestDB[(Test Database)]:::testDb
        MockServices[Mock Services]:::mockService
        TestClient[Test HTTP Client]:::testClient
    end

    Domain --> TestDB
    API --> TestClient
    External --> MockServices

    classDef suite fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000
    classDef unit fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000
    classDef integration fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000
    classDef contract fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef domainTest fill:#f1f8e9,stroke:#689f38,stroke-width:2px,color:#000
    classDef appTest fill:#e0f2f1,stroke:#00695c,stroke-width:2px,color:#000
    classDef mock fill:#fafafa,stroke:#616161,stroke-width:2px,color:#000
    classDef dbTest fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef apiTest fill:#ffebee,stroke:#d32f2f,stroke-width:2px,color:#000
    classDef externalTest fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#000
    classDef validation fill:#fff8e1,stroke:#ffa000,stroke-width:2px,color:#000
    classDef testDb fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px,color:#000
    classDef mockService fill:#efebe9,stroke:#5d4037,stroke-width:2px,color:#000
    classDef testClient fill:#e4f3e7,stroke:#4caf50,stroke-width:2px,color:#000

graph TB
    App[FastAPI App]:::application --> Firestore[(Firestore)]:::primaryDb
    App --> Redis[(Redis Cache)]:::cache
    App --> Local[Local Cache]:::cache

    subgraph "Google Cloud"
        Firestore --> Multi[Multi-region]:::cloudInfra
        Multi --> Region1[us-central1]:::region
        Multi --> Region2[europe-west1]:::region
    end

    classDef application fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000
    classDef primaryDb fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef cache fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000
    classDef cloudInfra fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef region fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#000
